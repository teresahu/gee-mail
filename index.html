<!DOCTYPE html>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
    		displayGeemails()

				function displayGeemails() {
					for (i=0; i<window.geemails.length; i++) {
						var div = createDiv("", "message", "")
						var docFrag = document.createDocumentFragment()
						var btn = document.createElement("BUTTON")
						btn.appendChild(document.createTextNode("View Message"))
						btn.onclick = btnclick(i)
						var parents = [
							createDiv(window.geemails[i].date.toLocaleDateString(), "date", ""),
							createDiv(window.geemails[i].subject, "subject", ""),
							btn,
							createDiv(window.geemails[i].sender, "sender", ""),
							createDiv(" ", "clear"),
							createDiv(window.geemails[i].body, "hidden-text", "hidden-text")
						]
						for (var j=0; j<parents.length; j++){
							docFrag.appendChild(parents[j])
						}
						div.appendChild(docFrag)
						document.body.appendChild(div)
						}
					}
				function createDiv(text, name, id) {
					var d = document.createElement("div")
					d.className = name
					d.id = id
					d.appendChild(document.createTextNode(text))
					return d;
				}

      };
			function btnclick(i){
				document.getElementsByClassName("hidden-text")[i].className='visible-text'
			}
    </script>
		<title>GeeMail</title>
	</head>
	<body>
		<header>
			<h1>Welcome to GeeMail!</h1>
		</header>
	</body>
</html>
